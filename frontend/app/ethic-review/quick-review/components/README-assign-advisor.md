# 快速审查 - 独立顾问指派功能

## 功能概述

为快速审查模块新增的"指派独立顾问"功能，允许管理员为具体的伦理审查项目指派独立顾问，获取专业的伦理咨询意见。

## 功能特性

### 1. 操作入口
- **列表页操作列**：在每个项目的下拉操作菜单中，位于"分配主审委员"下方
- **卡片视图操作**：在卡片模式下也提供相同的操作按钮

### 2. 指派对话框功能

#### 项目信息展示
- 显示当前项目的基本信息（项目名称、编号、负责人、类型等）
- 提供项目上下文，帮助选择合适的独立顾问

#### 咨询内容编辑
- **自动生成问题模板**：根据项目信息自动生成待咨询的问题框架
- **可编辑内容**：用户可以根据具体需求修改和完善咨询问题
- **必填验证**：确保提供具体的咨询内容

#### 独立顾问选择
- **智能筛选**：根据项目类型自动计算顾问匹配度
- **多维度信息**：显示顾问的专业领域、经验、评分、可用性等
- **搜索功能**：支持按姓名、部门、专业领域搜索
- **排序选项**：按匹配度、评分、经验等维度排序
- **可用性筛选**：可选择只显示当前可用的顾问

### 3. 顾问信息展示

每个顾问卡片包含：
- **基本信息**：姓名、部门、职称
- **专业能力**：专业领域、擅长领域、资质认证
- **工作状态**：经验年限、最近案例数、评分星级
- **匹配分析**：与当前项目的匹配度评分
- **可用状态**：当前是否可接受新的咨询任务

### 4. 交互体验

- **多选支持**：可同时选择多位独立顾问
- **即时反馈**：选择状态清晰可见，已选顾问高亮显示
- **提交验证**：确保至少选择一位顾问且填写咨询内容
- **加载状态**：提交过程显示加载状态，防止重复操作

## 技术实现

### 组件结构
```
assign-advisor-dialog.tsx
├── 项目信息卡片
├── 咨询内容编辑区
├── 顾问搜索和筛选
├── 顾问列表展示
└── 确认提交按钮
```

### 数据流
1. 用户点击"指派独立顾问" → 触发自定义事件
2. 页面监听事件 → 打开指派对话框
3. 对话框加载项目信息 → 生成咨询问题模板
4. 用户选择顾问和编辑问题 → 提交指派请求
5. 成功提交 → 显示成功提示并关闭对话框

### 集成方式
- 通过自定义事件与主页面解耦
- 可复用的对话框组件设计
- 统一的样式风格，符合系统设计规范

## 使用流程

1. **进入快速审查页面**
2. **找到目标项目**：在列表或卡片视图中找到需要指派独立顾问的项目
3. **点击指派按钮**：在操作列的下拉菜单中选择"指派独立顾问"
4. **确认项目信息**：检查显示的项目信息是否正确
5. **编辑咨询内容**：根据需要修改自动生成的咨询问题
6. **选择独立顾问**：
   - 浏览可用的独立顾问列表
   - 使用搜索和筛选功能缩小选择范围
   - 查看顾问的匹配度和专业信息
   - 选择一位或多位合适的顾问
7. **确认提交**：点击"确认指派"按钮完成操作
8. **查看结果**：系统会显示指派成功的提示信息

## 注意事项

- 确保选择的独立顾问在相关专业领域有足够的经验
- 咨询问题应当具体明确，便于独立顾问提供有针对性的建议
- 可以同时指派多位顾问以获得更全面的意见
- 优先选择当前可用的顾问以确保及时响应

## 未来扩展

- 添加独立顾问回复的跟踪和管理功能
- 集成邮件通知系统，自动通知被指派的顾问
- 增加指派历史记录和统计分析
- 支持批量指派多个项目给同一顾问 